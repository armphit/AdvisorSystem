<div class="panel-body" style="margin-left: 10px; margin-right: 10px;">
  <mat-form-field *ngIf="datamajor" style="width: 30%;">
    <mat-label>{{ "โปรดเลือกสาขาวิชา*" }}</mat-label>
    <mat-select>
      <mat-option
        *ngFor="let i of datamajor; let x = index"
        [value]="i.name"
        (click)="namegroupch(i.acronym, i.branch_id, i.name)"
      >
        {{ i.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <br />
  <!-- Button trigger modal -->
  <button
    type="button"
    class="btn btn-primary"
    data-toggle="modal"
    data-target="#AddGroup"
    (click)="getMajor()"
  >
    เพิ่มกลุ่มเรียน
  </button>

  <!-- Modal -->
  <div
    class="modal fade"
    id="updateGroup"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Close
          </button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Button to Open the Modal -->
  <!-- The Modal -->
  <div class="modal" id="AddGroup">
    <div class="modal-dialog">
      <div class="modal-content">
        <form #formChange="ngForm" (ngSubmit)="insertGroup(formChange)">
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Modal Heading</h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <span> {{ namegroup }}</span>
            &nbsp;&nbsp;.&nbsp;&nbsp;

            <mat-form-field class="example-full-width">
              <mat-label>โปรดระบุเลขกลุ่มเรียน</mat-label>
              <input matInput #groupPlus required />
            </mat-form-field>
            <br />
            อาจารย์ที่ปรึกษา :
            <mat-form-field style="width: 50%;">
              <mat-label>{{ "โปรดเลือกอาจารย์ที่ปรึกษา" }}</mat-label>
              <mat-select required>
                <mat-option *ngFor="let i of dataTeacher" [value]="i.username" (click)="nameTeacher(i.username)">
                  {{ i.username }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn btn-primary"
              data-dismiss="modal"
              (click)="insertGroup(groupPlus.value)"
            >
              Save changes
            </button>
          </div>
        </form>
        <!-- Modal footer -->
      </div>
    </div>
  </div>

  <mat-form-field
    class="example-full-width"
    style="float: right; width: 500px; padding-right: 50px;"
  >
    <input matInput placeholder="ค้นหา" #se_gr />
  </mat-form-field>
  <br /><br />
</div>

<table class="table table-striped" *ngIf="datagroup != null">
  <thead class="thead-dark">
    <tr>
      <th scope="col">ลำดับ</th>
      <th scope="col">กลุ่มเรียน</th>
      <th scope="col">สาขาวิชา</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let i of onSearchgroup(datagroup, se_gr.value); let x = index">
      <th scope="row">{{ x + 1 }}</th>
      <td>
        {{ i.study_group_name }}
      </td>
      <td>{{ i.name }}</td>
      <td>
        <span
          ><i
            class="fas fa-edit"
            style="font-size: 18px; cursor: pointer;"
            title="อัพเดทข้อมูล"
          ></i></span
        >&nbsp;&nbsp;&nbsp;
        <span (click)="deleteGroup(i.study_group_id)"
          ><i
            class="fas fa-trash-alt"
            style="font-size: 18px; color: red; cursor: pointer;"
            title="ลบข้อมูล"
          ></i
        ></span>
      </td>
    </tr>
  </tbody>
</table>
